<div class="mt-8 p-4 grid" *ngIf="!isLoading" style="overflow-x: hidden;">

  <div class="col-12 lg:col-6 xl:col-3">
    <div class="card mb-0">
      <div class="flex justify-content-between mb-3">
        <div>
          <span class="block text-500 font-medium mb-3">Users</span>
          <div class="text-900 font-medium text-xl">{{totalUsers}}</div>
        </div>

        <div class="flex align-items-center justify-content-center bg-blue-100 border-round"
          [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
          <i class="pi pi-user text-blue-500 text-xl"></i>
        </div>
      </div>

      <span class="text-green-500 font-medium">24 new </span>
      <span class="text-500">since last visit</span>
    </div>
  </div>

  <div class="col-12 lg:col-6 xl:col-3">
    <div class="card mb-0">
      <div class="flex justify-content-between mb-3">
        <div>
          <span class="block text-500 font-medium mb-3">Surveys</span>
          <div class="text-900 font-medium text-xl">{{totalSurveys}}</div>
        </div>

        <div class="flex align-items-center justify-content-center bg-orange-100 border-round"
          [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
          <i class="pi pi-list text-orange-500 text-xl"></i>
        </div>
      </div>

      <span class="text-green-500 font-medium">%52+ </span>
      <span class="text-500">since last week</span>
    </div>
  </div>

  <div class="col-12 lg:col-6 xl:col-3">
    <div class="card mb-0">
      <div class="flex justify-content-between mb-3">
        <div>
          <span class="block text-500 font-medium mb-3">Questions</span>
          <div class="text-900 font-medium text-xl">{{totalQuestions}}</div>
        </div>

        <div class="flex align-items-center justify-content-center bg-cyan-100 border-round"
          [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
          <i class="pi pi-question-circle text-cyan-500 text-xl"></i>
        </div>
      </div>

      <span class="text-green-500 font-medium">520 </span>
      <span class="text-500">newly registered</span>
    </div>
  </div>

  <div class="col-12 lg:col-6 xl:col-3">
    <div class="card mb-0">
      <div class="flex justify-content-between mb-3">
        <div>
          <span class="block text-500 font-medium mb-3">Answers</span>
          <div class="text-900 font-medium text-xl">{{totalAnswers}}</div>
        </div>

        <div class="flex align-items-center justify-content-center bg-purple-100 border-round"
          [ngStyle]="{width: '2.5rem', height: '2.5rem'}">
          <i class="pi pi-comment text-purple-500 text-xl"></i>
        </div>
      </div>

      <span class="text-green-500 font-medium">85 </span>
      <span class="text-500">responded</span>
    </div>
  </div>

  <div class="col-12 xl:col-6">
    <div class="card">
      <h5 class="titleSection mt-0 mb-3">Recent Surveys</h5>
      <p-table [value]="surveys" [paginator]="true" [rows]="5" responsiveLayout="scroll">
        <ng-template pTemplate="header">
          <tr>
            <th pSortableColumn="id">ID <p-sortIcon field="id"></p-sortIcon></th>
            <th pSortableColumn="descr">Name <p-sortIcon field="descr"></p-sortIcon></th>
            <th pSortableColumn="startDate">Start Date <p-sortIcon field="startDate"></p-sortIcon></th>
            <th pSortableColumn="startDate">End Date<p-sortIcon field="startDate"></p-sortIcon></th>
            <th>View</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-survey>
          <tr>
            <td style="width: 10%; min-width: 5rem;">{{survey.id}}</td>
            <td style="width: 20%; min-width: 5rem;">{{survey.descr}}</td>
            <td style="width: 30%; min-width: 5rem;">{{survey.startDate}}</td>
            <td style="width: 30%; min-width: 5rem;">{{survey.endDate}}</td>
            <td style="width: 10%;">
              <button pButton
                      pRipple
                      [routerLink]="['/survey/answer-survey/', survey.id]"
                      type="button"
                      icon="pi pi-search"
                      class="p-button p-component p-button-text p-button-icon-only">
              </button>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>

  <div class="col-12 xl:col-6">
    <div class="card">
      <h5 class="titleSection mt-0 mb-3">SurveyCraft Chart</h5>
      <!-- <p-chart type="line" [data]="chartData" [options]="chartOptions"></p-chart> -->
      <div class="flex justify-content-center">
        <p-chart type="pie" [data]="data" [options]="options"></p-chart>
      </div>
    </div>
  </div>
</div>

<div class="mt-8 p-4" *ngIf="isLoading" style="overflow-x: hidden;">
  <div class="flex gap-3 flex-wrap">
    <div class="flex gap-3">
      <p-skeleton width="314px" height="142px" styleClass="col-12 lg:col-6 xl:col-3"></p-skeleton>
      <p-skeleton width="314px" height="142px" styleClass="col-12 lg:col-6 xl:col-3"></p-skeleton>
      <p-skeleton width="314px" height="142px" styleClass="col-12 lg:col-6 xl:col-3"></p-skeleton>
      <p-skeleton width="314px" height="142px" styleClass="col-12 lg:col-6 xl:col-3"></p-skeleton>
    </div>

    <div class="flex gap-3">
      <p-skeleton width="642px" height="384px" styleClass="col-12 xl:col-6"></p-skeleton>
      <p-skeleton width="642px" height="384px" styleClass="col-12 xl:col-6"></p-skeleton>
    </div>
  </div>
</div>
